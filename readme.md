# 基于机器视觉物联网的机场场面积水检测系统
## 如有需要请加QQ1457569235，欢迎交流
## 简介

本研究致力于完整的机场场面积水检测与预警平台的搭建，力图减轻机场场面(跑道、滑行道、停机坪) 积水引发的严重安全事件。通过对机场路面的实时拍摄，并由Hi3516DV300进行图像的裁剪、亮度转化和区域识别得到场面积水信息，进一步完成路面积水探测分析。搭配Hi3861V100发送采集数据上传客户端完成现场勘探和预警，实现对机场场面环境风险的总体性识别判断，为机场环境风险预警及综合管理提供决策支撑。

## 使用介绍

本系统在目前存在三个模式：

1. rtsp串流模式：Taurus将画面通过rtsp协议串流至上位机，上位机可以实时显示监控画面，并通过透视算法展示积水区域。（适合人工监控使用）
   
2. 边缘分类网模式：Taurus将接收Pegasus的串口发送的命令，在合适时机抓拍并执行分类网，并将结果通过Pegasus转发至传递到上位机，上位机能够粗略表示积水位置并建立低配数字孪生场景（适合大量边缘设备时使用）

3. 边缘检测网模式：Taurus将接收Pegasus的串口发送的命令，在合适时机抓拍并执行检测网，并将结果通过Pegasus转发至传递到上位机，上位机能够较为精细的模拟积水区域并建立数字孪生场景（适合单设备大范围检测时使用）
   
此设计是为了验证在此泛在操作系统中能轻松进行拓展而设计的。实际运行时，通过修改服务端os代码中 telnet 命令所启动不同的Taurus程序和cmd命令所启动的不同的.exe程序来实现启动不同模式。PC端server_os代码提供的是rtsp串流模式作为示例。

'''python

打开taurus程序

tn.write(***CAMPRO***.encode('ascii')+b"\n\n")

打开pc程序

print("[info]打开检测程序")

os.system('***detect.exe***')

使用时还需根据实际网络情况配置ip、端口、协议栈等。还要注意运行文件的路径，pc端需要将所有依赖文件和主程序(server_os)内在同一路径下,并安装对应的python库

## 系统基本原理简介

本作品为基于机器视觉的机场场面积水检测与预警系统，系统目标是获得机场跑道的积水区域，并能够完成对积水路段的监控和预警。完成任务的全流程如上图所示。具体过程如下：首先，操作操作人员发起指令，要求对积水路段进行检测。Pegasus组成的终端控制模块通过TCP协议发起询问，收到任务后可以发生PWM驱动舵机，到位后便能够通过UART将状态信息发送给Taurus，随后执行检测/分类网程序。Taurus和舵机组成的积水检测模块，首先通过Telnet完成启动，将拍摄画面在其板端显示，在被告知舵机转向到位后，分类与检测网络被执行，得到此时画面的分类和检测数据信息，经过打包后经UART由TCP协议返还预警平台；同时，利用RTSP流传输三个角度的照片发送给积水预警平台。积水预警平台收到路面信息后，通过透射变换关系，获取积水区域坐标，并能够由图像完成路面情况的监控，供操作人员确认。
